<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Autocomplete</title>
    <script type="module">
      import '../components/dist/components/umd/solid-components.js';
    </script>
  </head>
  <body>
    <sd-input label="Input with autosuggest" required></sd-input>
    <script type="module">
      import autoComplete from '/src/autoComplete.js';
      await Promise.all([customElements.whenDefined('sd-input'), customElements.whenDefined('sd-popup')]).then(() => {
        const sdInput = document.querySelector('sd-input');
        const input = sdInput.shadowRoot.querySelector('input');

        const autoCompleteJS = new autoComplete({ // API Basic Configuration Object
          placeHolder: 'Search for Food...',
          data: {
            src: ['Sauce - Thousand Island', 'Wild Boar - Tenderloin', 'Goat - Whole Cut']
          },
          selector: () => {
              return input; // Any valid selector
          },
          resultsList: {
            tag: "sd-popup",
          },
          wrapper: false,
          resultItem: {
            /* element: (item, data) => {
              item.innerHTML = `
              <sd-option>
                ${data.match}
              </sd-option>
              `;
            }, */
            highlight: true
          }
        });
      });
    </script>
  </body>
</html>
