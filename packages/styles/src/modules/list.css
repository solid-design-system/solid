/**
 * Generates basic styles for list elements.
 * @name sd-list
 * @status stable
 * @since 1.39.0
 * @boolean sd-list--inverted Inverts the list text.
 */

.sd-list:not(.sd-list--icon),
.sd-prose > :is(ol, ul) {
  list-style-postion: revert;
  list-style-type: revert;
  padding: revert;

  ul,
  ol {
    all: revert;
  }

  @apply text-left py-4 pl-4;

  li:not(:first-child) {
    @apply mt-3;
  }

  li {
    @apply pl-[0.5em];
  }

  ol,
  ul {
    @apply pt-[0.75em] pl-[2em];
  }

  /* Counter handling for ordered lists. */
  &:is(ol),
  ol {
    & > li {
      counter-increment: item;
      &::marker {
        content: counters(item, '.') '. ';
      }
    }
  }

  /* Add second level */
  &:is(ol),
  &:is(ol) > li > ol,
  ol > li > ol {
    counter-reset: item;
  }

  /* Ordered lists inside unordered lists. */
  &:is(ul) > li > ol,
  ul > li > ol {
    counter-set: item 0;
  }

  &:is(ul):not(.sd-list--icon) > li,
  ul > li {
    &::marker {
      content: '\2022 ';
    }
    > ul > li {
      &::marker {
        content: '\002B1D ';
      }
      > ul > li {
        &::marker {
          content: '\2010 ';
        }
      }
    }
  }
}

.sd-list--icon {
  @apply text-left py-4;
  li {
    sd-icon:first-of-type,
    .sd-list--icon__icon:first-of-type {
      @apply text-white;
    }
  }
  /* Safari removes list semantics of lists that donâ€™t look like lists (list-style: none). The only way to remove list
    styles without affecting semantics is to set list-style-type to an empty string.
    https://www.matuzo.at/blog/2023/removing-list-styles-without-affecting-semantics */
  list-style-type: '';

  > li:first-of-type {
    @apply pt-0;
  }

  li {
    @apply relative leading-[32px] pt-3 pl-10;

    > sd-icon:first-of-type,
    > .sd-list--icon__icon:first-of-type {
      @apply absolute left-0 text-3xl text-primary;
    }
  }

  &.sd-list--horizontal {
    @apply flex;
    & li {
      @apply flex pt-0;
    }
    & li:not(:last-child) {
      @apply mr-8;
    }
  }
}

.sd-list--inverted,
.sd-prose--inverted > :is(ol, ul) {
  @apply text-white;

  li > sd-icon:first-of-type,
  li > .sd-list--icon__icon:first-of-type {
    @apply text-white;
  }
}
