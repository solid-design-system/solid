{"version":3,"file":"request-f73f8173.js","sources":["../../../src/components/include/request.ts"],"sourcesContent":["interface IncludeFile {\n  ok: boolean;\n  status: number;\n  html: string;\n}\n\nconst includeFiles = new Map<string, Promise<IncludeFile>>();\n\n/** Fetches an include file from a remote source. Caching is enabled so the origin is only pinged once. */\nexport function requestInclude(src: string, mode: 'cors' | 'no-cors' | 'same-origin' = 'cors'): Promise<IncludeFile> {\n  if (includeFiles.has(src)) {\n    return includeFiles.get(src)!;\n  }\n  const fileDataPromise = fetch(src, { mode: mode }).then(async response => {\n    return {\n      ok: response.ok,\n      status: response.status,\n      html: await response.text()\n    };\n  });\n  includeFiles.set(src, fileDataPromise);\n  return fileDataPromise;\n}\n"],"names":["includeFiles","requestInclude","src","mode","fileDataPromise","response"],"mappings":"AAMA,MAAMA,MAAmB,IAGT,SAAAC,EAAeC,EAAaC,EAA2C,OAA8B,CAC/G,GAAAH,EAAa,IAAIE,CAAG,EACf,OAAAF,EAAa,IAAIE,CAAG,EAEvB,MAAAE,EAAkB,MAAMF,EAAK,CAAE,KAAAC,EAAY,EAAE,KAAK,MAAME,IACrD,CACL,GAAIA,EAAS,GACb,OAAQA,EAAS,OACjB,KAAM,MAAMA,EAAS,KAAK,CAAA,EAE7B,EACY,OAAAL,EAAA,IAAIE,EAAKE,CAAe,EAC9BA,CACT"}