{"version":3,"file":"request-372c4178.js","sources":["../../../src/components/icon/request.ts"],"sourcesContent":["import { requestInclude } from '../include/request';\n\ntype IconFile =\n  | {\n      ok: true;\n      status: number;\n      svg: string;\n    }\n  | {\n      ok: false;\n      status: number;\n      svg: null;\n    };\n\ninterface IconFileUnknown {\n  ok: boolean;\n  status: number;\n  svg: string | null;\n}\n\nconst iconFiles = new Map<string, IconFile>();\n\nexport async function requestIcon(url: string): Promise<IconFile> {\n  if (iconFiles.has(url)) {\n    return iconFiles.get(url)!;\n  }\n  const fileData = await requestInclude(url);\n  const iconFileData: IconFileUnknown = {\n    ok: fileData.ok,\n    status: fileData.status,\n    svg: null\n  };\n  if (fileData.ok) {\n    const div = document.createElement('div');\n    div.innerHTML = fileData.html;\n    const svg = div.firstElementChild;\n    iconFileData.svg = svg?.tagName.toLowerCase() === 'svg' ? svg.outerHTML : '';\n  }\n\n  iconFiles.set(url, iconFileData as IconFile);\n  return iconFileData as IconFile;\n}\n"],"names":["iconFiles","requestIcon","url","fileData","requestInclude","iconFileData","div","svg"],"mappings":"uDAoBA,MAAMA,MAAgB,IAEtB,eAAsBC,EAAYC,EAAgC,CAC5D,GAAAF,EAAU,IAAIE,CAAG,EACZ,OAAAF,EAAU,IAAIE,CAAG,EAEpB,MAAAC,EAAW,MAAMC,EAAeF,CAAG,EACnCG,EAAgC,CACpC,GAAIF,EAAS,GACb,OAAQA,EAAS,OACjB,IAAK,IAAA,EAEP,GAAIA,EAAS,GAAI,CACT,MAAAG,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAYH,EAAS,KACzB,MAAMI,EAAMD,EAAI,kBAChBD,EAAa,KAAME,GAAA,YAAAA,EAAK,QAAQ,iBAAkB,MAAQA,EAAI,UAAY,GAGlE,OAAAP,EAAA,IAAIE,EAAKG,CAAwB,EACpCA,CACT"}