import{S as p,n,e as m}from"./solid-element-6d3454b3.js";import"./lit-element-eaf0d7ea.js";import{x as u}from"./directive-helpers-09afb1c8.js";import{requestInclude as h}from"./request-f73f8173.js";import{w as d}from"./watch-73ae212f.js";import f from"./include.styles-3798f1a5.js";import"./component.styles-5b59c2b0.js";var S=Object.defineProperty,w=Object.getOwnPropertyDescriptor,i=(e,t,r,l)=>{for(var s=l>1?void 0:l?w(t,r):t,c=e.length-1,a;c>=0;c--)(a=e[c])&&(s=(l?a(t,r,s):a(s))||s);return l&&s&&S(t,r,s),s};let o=class extends p{constructor(){super(...arguments),this.mode="cors",this.allowScripts=!1}executeScript(e){const t=document.createElement("script");[...e.attributes].forEach(r=>t.setAttribute(r.name,r.value)),t.textContent=e.textContent,e.parentNode.replaceChild(t,e)}async handleSrcChange(){try{const e=this.src,t=await h(e,this.mode);if(e!==this.src)return;if(!t.ok){this.emit("sd-error",{detail:{status:t.status}});return}this.innerHTML=t.html,this.allowScripts&&[...this.querySelectorAll("script")].forEach(r=>this.executeScript(r)),this.emit("sd-load")}catch{this.emit("sd-error",{detail:{status:-1}})}}render(){return u`<slot></slot>`}};o.styles=f;i([n()],o.prototype,"src",2);i([n()],o.prototype,"mode",2);i([n({attribute:"allow-scripts",type:Boolean})],o.prototype,"allowScripts",2);i([d("src")],o.prototype,"handleSrcChange",1);o=i([m("sd-include")],o);export{o as default};
//# sourceMappingURL=include-c99bc5de.js.map
